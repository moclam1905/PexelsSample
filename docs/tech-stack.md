
# PexelsSample Technology Stack

## Technology Choices

This document outlines the specific technologies and libraries chosen for the PexelsSample Android application. All library versions aim to be the latest stable versions available as of May 2025, compatible with the target Android SDK levels and core tooling.

| Category                     | Technology                                    | Version / Details        | Description / Purpose                                                                 | Justification (Optional)                                                                                                |
| :--------------------------- | :-------------------------------------------- | :----------------------- | :------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------- |
| **Project Configuration** | Android Gradle Plugin (AGP)                   | `8.9.1`                  | Build system for Android.                                                             | Specified in `libs.versions.toml`.                                                                                      |
|                              | Min SDK Version                               | `26` (Android 8.0 Oreo)  | Minimum Android version the app will run on.                                          | User-defined. Balances modern features with device reach.                                                               |
|                              | Target SDK Version                            | `35`                     | API level the app is built and tested against.                                        | User-defined. Targets the latest Android features and behaviors.                                                        |
|                              | Compile SDK Version                           | `35`                     | API level used to compile the app.                                                    | Typically matches `targetSdk`.                                                                                          |
| **Languages** | Kotlin                                        | `2.0.21`                 | Primary language for Android development.                                             | Specified in `libs.versions.toml`. Modern, concise, and official language for Android. [54, 58]                   |
| **UI Toolkit** | Jetpack Compose BOM                           | `2024.09.00`             | Bill of Materials for Jetpack Compose libraries, ensures compatible versions.         | Specified in `libs.versions.toml`. Modern declarative UI toolkit for Android. [54, 60]                             |
|                              |   Jetpack Compose UI                          | (from BOM)               | Core UI elements and layouts. (`androidx.compose.ui:ui`)                              | Part of Compose.                                                                                                        |
|                              |   Jetpack Compose Material 3                  | (from BOM)               | Material Design 3 components for Compose. (`androidx.compose.material3:material3`)    | Provides modern UI components.                                                                                          |
|                              |   Jetpack Compose Tooling & Preview           | (from BOM)               | For UI development and preview in Android Studio. (`androidx.compose.ui:ui-tooling`)  | Essential for Compose development.                                                                                      |
|                              |   Activity Compose                            | `1.10.1`                 | Integration for Jetpack Compose with Activities. (`androidx.activity:activity-compose`) | Specified in `libs.versions.toml`. Required for using Compose in an Activity.                                     |
|                           |   **Jetpack Material 3 WindowSizeClass** | **(from BOM or `1.2.1` if specified)**| **Provides `calculateWindowSizeClass` for adaptive layout decisions.** | **Recommended by Android for building responsive UIs. PRD Requirement. [83, 93]** |
| **Local Data Storage** | Jetpack DataStore Preferences                 | `1.1.1`                               | For storing user's recent search terms.                                 | Lightweight, asynchronous, good for simple data. PRD Rec. [87]      |
| **UI Components** | Compose PullRefresh (e.g., `androidx.compose.material.pullrefresh`) | `1.6.0` (example from M2 if that's what PRD implies, or M3 equivalent) | Enables pull-to-refresh gesture on lists/grids.                       | Standard Compose pattern for data refresh. PRD Rec. [85, 190] |
| **Architecture Components** | Android KTX Core                              | `1.16.0`                 | Kotlin extensions for Android framework APIs. (`androidx.core:core-ktx`)              | Specified in `libs.versions.toml`. Improves conciseness.                                                                |
|                              | Lifecycle Runtime KTX                         | `2.8.7`                  | Lifecycle-aware components, including ViewModel scope. (`androidx.lifecycle:lifecycle-runtime-ktx`) | Specified in `libs.versions.toml`. Essential for MVVM.                                                                  |
|                              |   ViewModel Compose                           | (from BOM or `2.8.7`)    | Integration for ViewModels with Jetpack Compose. (`androidx.lifecycle:lifecycle-viewmodel-compose`) | For easy ViewModel access in Composables.                                                                               |
|                              | Navigation Compose                            | (from BOM or `2.8.0-beta01`) | Navigation library for Jetpack Compose. (`androidx.navigation:navigation-compose`)  | For handling navigation between Composable screens. (Proposing `2.8.0-beta01` as latest compatible if BOM is older) |
|                              | Room Persistence Library (Runtime)            | `2.6.1`                  | ORM for local SQLite database. (`androidx.room:room-runtime`)                         | For local data caching. [55] (Latest stable as of May 2025)                                                             |
|                              |   Room KTX (Extensions and Coroutines support)| `2.6.1`                  | Kotlin extensions for Room. (`androidx.room:room-ktx`)                                | Simplifies Room usage with Kotlin and Coroutines.                                                                       |
|                              |   Room Compiler                               | `2.6.1`                  | Annotation processor for Room. (`androidx.room:room-compiler`)                        | Required for Room.                                                                                                      |
| **Dependency Injection** | Hilt Android                                  | `2.51.1`                 | Dependency injection library for Android. (`com.google.dagger:hilt-android`)            | Simplifies DI, integrates with Jetpack. (Story 1.7) (Latest stable as of May 2025)                                     |
|                              |   Hilt Compiler                               | `2.51.1`                 | Annotation processor for Hilt. (`com.google.dagger:hilt-compiler`)                      | Required for Hilt.                                                                                                      |
| **Networking** | Retrofit 2                                    | `2.11.0`                 | Type-safe HTTP client for Android and Java. (`com.squareup.retrofit2:retrofit`)       | Robust and widely used for API communication. (Story 1.3) (Latest stable as of May 2025)                                |
|                              |   OkHttp 4 (Retrofit dependency)              | `4.12.0`                 | HTTP client. (`com.squareup.okhttp3:okhttp`)                                          | Underlying HTTP client for Retrofit.                                                                                    |
|                              |   OkHttp Logging Interceptor                  | `4.12.0`                 | Logs HTTP request and response data. (`com.squareup.okhttp3:logging-interceptor`)     | Useful for debugging network calls.                                                                                     |
| **JSON Serialization** | Kotlinx Serialization JSON                    | `1.7.0`                  | Kotlin multiplatform / JVM JSON serialization library. (`org.jetbrains.kotlinx:kotlinx-serialization-json`) | Modern, Kotlin-first JSON parsing. (Story 1.3) (Latest stable for Kotlin 2.0.x)                                     |
|                              |   Retrofit Kotlinx Serialization Converter    | `1.0.0`                  | Retrofit converter for `kotlinx.serialization`. (`com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter`) | Integrates `kotlinx.serialization` with Retrofit.                                                                  |
| **Image Loading** | Coil (Compose integration)                    | `2.7.0`                  | Coroutine Image Loader for Android, with Jetpack Compose support. (`io.coil-kt:coil-compose`) | Kotlin-first, efficient image loading for Compose. [User confirmed, 69] (Latest stable as of May 2025)                   |
| **Asynchronous Operations** | Kotlin Coroutines                             | (via Kotlin `2.0.21`)    | For managing asynchronous tasks. (`org.jetbrains.kotlinx:kotlinx-coroutines-core`, `org.jetbrains.kotlinx:kotlinx-coroutines-android`) | Simplifies async code, integrates with Lifecycle. [72]                                                                |
| **Testing** | JUnit 4                                       | `4.13.2`                 | Testing framework for Java/Kotlin. (`junit:junit`)                                    | Specified in `libs.versions.toml`. For unit tests. [39]                                                               |
|                              |   AndroidX Test JUnit                         | `1.2.1`                  | AndroidX extensions for JUnit. (`androidx.test.ext:junit`)                            | Specified in `libs.versions.toml`. For instrumented tests.                                                              |
|                              |   Espresso Core                               | `3.6.1`                  | UI testing framework. (`androidx.test.espresso:espresso-core`)                        | Specified in `libs.versions.toml`. Primarily for View-based UI, but can be used. [41]                               |
|                              |   Jetpack Compose UI Test JUnit4              | (from BOM)               | For testing Jetpack Compose UIs. (`androidx.compose.ui:ui-test-junit4`)               | Specified in `libs.versions.toml`. Essential for Compose UI testing. [41, 65]                                       |
|                              |   Jetpack Compose UI Test Manifest            | (from BOM)               | Test manifest for Compose UI tests. (`androidx.compose.ui:ui-test-manifest`)          | Required for Compose tests.                                                                                             |
|                              |   Turbine (for Flow testing)                  | `1.1.0`                  | Small testing library for Kotlin Flows. (`app.cash.turbine:turbine`)                    | Useful for testing `StateFlow` and `SharedFlow` in ViewModels. (Latest stable as of May 2025)                         |
|                              |   MockK                                       | `1.13.12`                | Mocking library for Kotlin. (`io.mockk:mockk`)                                        | Allows for creating mocks and verifying interactions in tests. (Latest stable as of May 2025)                           |
|                              |   OkHttp MockWebServer                        | `4.12.0`                 | For testing HTTP clients like Retrofit. (`com.squareup.okhttp3:mockwebserver`)        | Enables testing of API interactions without actual network calls. [40]                                                    |

## Notes

-   The versions for Jetpack Compose libraries (`androidx-ui`, `androidx-ui-graphics`, `androidx-material3`, `androidx-ui-tooling-preview`, `androidx-ui-test-junit4`, `androidx-ui-test-manifest`) are managed by the `androidx-compose-bom` (Bill of Materials) version `2024.09.00`.
-   The Kotlin version is `2.0.21`, and all libraries are chosen for compatibility with this version and the Android Gradle Plugin `8.9.1`.
-   The `minSdk` is `26` and `targetSdk` (and `compileSdk`) is `35`.
-   This list will be translated into the `build.gradle` (or `libs.versions.toml`) file for the project.
-   Specific versions might be updated if newer stable and compatible releases become available during development, subject to review.

## Change Log

| Change        | Date       | Version | Description                  | Author     |
| :------------ | :--------- | :------ | :--------------------------- | :--------- |
| Initial draft | 2025-05-08 | 0.1     | Initial draft based on PRD, user input, and current stable library versions. | Architect AI |
| Bonus Features | 2025-05-10 | 1.1     | Bonus Features | Architect AI |
